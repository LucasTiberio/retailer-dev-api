extend type Query{
  verifyOrganizationName(input: VerifyOrganizationNameInput!): Boolean @isAuthenticated
  findUsersToOrganization(input: FindUsersToOrganizationInput!): [FindUsersToOrganizationPayload]! @hasOrganizationRole(role: ["ADMIN"]) @isVerified @isAuthenticated
}

input FindUsersToOrganizationInput{
  name: String!
  organizationId: String!
}

type FindUsersToOrganizationPayload{
  user: User!
  inviteStatus: OrganizationInviteStatus
  usersOrganizationsId: String
}

input VerifyOrganizationNameInput{
  name: String!
}

extend type Mutation{
  createOrganization(input: CreateOrganizationInput!): Organization! @isVerified @isAuthenticated 
  inviteUserToOrganization(input: InviteUserToOrganizationInput!): Boolean! @hasOrganizationRole(role: ["ADMIN"]) @isVerified @isAuthenticated
  responseOrganizationInvite(input: ResponseOrganizationInviteInput!): Boolean!
  inativeUserInOrganization(input: InativeUserInOrganizationInput!): UserOrganization! @hasOrganizationRole(role: ["ADMIN"]) @isVerified @isAuthenticated
}

input InativeUserInOrganizationInput{
  userId: String!
  organizationId: String!
}

input ResponseOrganizationInviteInput{
  inviteHash: String!
  response: OrganizationInviteStatus!
}

enum OrganizationInviteStatus {
    refused,
    pendent,
    accept,
    exited
}

input InviteUserToOrganizationInput {
  organizationId: String!
  users: [InviteUsersInput]!
}

input InviteUsersInput {
  id: String
  email: String!
}

input CreateOrganizationInput{
  name: String!
  contactEmail: String!
}

type Organization{
  name: String!
  contactEmail: String!
  id: String!
  active: Boolean!
  user: User! @isVerified @isAuthenticated # TODO somente admin pode ver o founder
  updatedAt: Datetime!
  createdAt: Datetime!
}

type UserOrganization{
  id: String!
  inviteStatus: OrganizationInviteStatus!
  inviteHash: String
  updatedAt: Datetime!
  createdAt: Datetime!
  organization: Organization!
  user: User!
}